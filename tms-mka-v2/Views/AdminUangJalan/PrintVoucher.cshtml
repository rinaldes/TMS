@using tms_mka_v2.Models
@{
    int idx = 1;
}
<link rel="stylesheet" href="~/Content/metronic/bootstrap.min.css" />
<script>
    function update(numString) {
        var bigNumArry = new Array('', ' RIBU', ' JUTA', ' MILYAR', ' TRILIUN', ' QUADRALIUN', ' QUINTIILIUN');

        var output = '';
        var finlOutPut = new Array();

        if (numString == '0') {
            console.log('Zero');
            return;
        }

        if (numString == 0) {
            console.log('messeg tell to enter numbers');
            return;
        }

        var i = numString.length;
        i = i - 1;

        //cut the number to grups of three digits and add them to the Arry
        while (numString.length > 3) {
            var triDig = new Array(3);
            triDig[2] = numString.charAt(numString.length - 1);
            triDig[1] = numString.charAt(numString.length - 2);
            triDig[0] = numString.charAt(numString.length - 3);

            var varToAdd = triDig[0] + triDig[1] + triDig[2];
            finlOutPut.push(varToAdd);
            i--;
            numString = numString.substring(0, numString.length - 3);
        }
        finlOutPut.push(numString);
        finlOutPut.reverse();

        //conver each grup of three digits to english word
        //if all digits are zero the triConvert
        //function return the string "dontAddBigSufix"
        for (j = 0; j < finlOutPut.length; j++) {
            finlOutPut[j] = triConvert(parseInt(finlOutPut[j]));
        }

        var bigScalCntr = 0; //this int mark the million billion trillion... Arry

        for (b = finlOutPut.length - 1; b >= 0; b--) {
            if (finlOutPut[b] != "dontAddBigSufix") {
                finlOutPut[b] = finlOutPut[b] + bigNumArry[bigScalCntr];
                bigScalCntr++;
            }
            else {
                //replace the string at finlOP[b] from "dontAddBigSufix" to empty String.
                finlOutPut[b] = ' ';
                bigScalCntr++; //advance the counter
            }
        }

        //convert The output Arry to , more printable string
        for (n = 0; n < finlOutPut.length; n++) {
            output += finlOutPut[n];
        }
        return output.replace(/SE /g, 'SE') + ' RP';//print the output
    }

    //simple function to convert from numbers to words from 1 to 999
    function triConvert(num) {
        var ones = new Array('', ' SE', ' DUA', ' TIGA', ' EMPAT', ' LIMA', ' ENAM', ' TUJUH', ' DELAPAN', ' SEMBILAN', ' SEPULUH', ' SEBELAS', ' DUA BELAS', ' TIGA BELAS', ' EMPAT BELAS', ' LIMA BELAS', ' ENAM BELAS', ' TUJUH BELAS', ' DELAPAN BELAS', ' SEMBILAN BELAS');
        var tens = new Array('', '', ' DUA PULUH', ' TIGA PULUH', ' EMPAT PULUH', ' LIMA PULUH', ' ENAM PULUH', ' TUJUH PULUH', ' DELAPAN PULUH', ' SEMBILAN PULUH');
        var hundred = ' RATUS';
        var output = '';
        var numString = num.toString();

        if (num == 0) {
            return 'dontAddBigSufix';
        }
        //the case of 10, 11, 12 ,13, .... 19
        if (num < 20) {
            output = ones[num];
            return output;
        }

        //100 and more
        if (numString.length == 3) {
            output = ones[parseInt(numString.charAt(0))] + hundred;
            output += tens[parseInt(numString.charAt(1))];
            if (parseInt(numString.charAt(1)) == 1)
                output += ones[parseInt(numString.charAt(2)) + 10];
            else
                output += ones[parseInt(numString.charAt(2))];
            return output;
        }

        output += tens[parseInt(numString.charAt(0))];
        output += ones[parseInt(numString.charAt(1))];

        return output;
    }
</script>

<page size="A4" layout="portrait">
    <div class="container" style="margin-top: 35px">
    @foreach (var item in Model.ModelListSpbu)
    {
        if (item.Value > 0)
        {
            string left_label = "col-xs-" + (idx % 2 == 0 ? 3 : 2) + " col-md-" + (idx % 2 == 0 ? 3 : 2);
            string right_label = "col-xs-" + (idx % 2 == 0 ? 9 : 10) + " col-md-" + (idx % 2 == 0 ? 9 : 10);
            string footer_label = "col-xs-" + (idx % 2 == 0 ? 3 : 2) + " col-md-" + (idx % 2 == 0 ? 3 : 2);
            <div class="col-xs-6 col-md-6" style="margin-top: @(idx > 2 ? (idx > 4 ? 59 : 59) : 4)px">
                <div class="row" style="height: 119px !important; float: left;">
                    <label class="@left_label"></label><label class="@right_label" style="margin-bottom: 0px !important; font-size: 11px !important; font-weight: 100">@item.NamaSpbu</label>
                    <label class="@left_label"></label><label class="@right_label" style="margin-bottom: 0px !important; font-size: 11px !important; font-weight: 100;"> @ViewBag.TanggalMuat</label>
                    <label class="@left_label"></label><label class="@right_label" style="margin-bottom: 0px !important; font-size: 11px !important; font-weight: 100">@ViewBag.VehicleNo</label>
                    <label class="@left_label"></label><label class="@right_label" style="margin-bottom: 0px !important; font-size: 11px !important; font-weight: 100"> @ViewBag.Jenis </label>
                    <label class="@left_label"></label><label class="@right_label" style="margin-bottom: 0px !important; font-size: 11px !important; font-weight: 100"> @(item.Value / ViewBag.HargaSolar) L</label>
                    <label class="@left_label"></label><label class="@right_label" style="margin-bottom: 0px !important; font-size: 11px !important; font-weight: 100"> @string.Format("{0:n0}", item.Value)</label>
                    <label class="@left_label"></label><label class="@right_label" id="spbu@(idx)" style="margin-bottom: 0px !important; font-size: 11px !important; font-weight: 100">
                        <script>document.getElementById("spbu@(idx)").innerHTML = update("@item.Value")</script>
                    </label>
                </div>
                <div class="row" style="margin-top: @(idx > 2 ? 189 : 189)px">
                    <label class="col-xs-6 col-md-6" style="margin-bottom: 0px !important; font-size: 11px !important; font-weight: 100">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @User.firstname</label>
                    <label class="col-xs-6 col-md-6" style="margin-bottom: 0px !important; font-size: 11px !important; font-weight: 100">Rotua</label>
                </div>
            </div>
            idx++;
        }
    }
    @foreach (var item in Model.ModelListKapal)
    {
        string left_label = "col-xs-" + (idx % 2 == 0 ? 3 : 2) + " col-md-" + (idx % 2 == 0 ? 3 : 2);
        string right_label = "col-xs-" + (idx % 2 == 0 ? 9 : 10) + " col-md-" + (idx % 2 == 0 ? 9 : 10);
        <div class="col-xs-6 col-md-6" style="margin-top: @(idx > 2 ? (idx > 4 ? 59 : 59) : 4)px">
            <div class="row" style="height: 119px !important; float: left;">
                <label class="@left_label"></label><label class="@right_label" style="margin-bottom: 0px !important; font-size: 11px !important; font-weight: 100">@item.NamaPenyebrangan</label>
                <label class="@left_label"></label><label class="@right_label" style="margin-bottom: 0px !important; font-size: 11px !important; font-weight: 100;"> @ViewBag.TanggalMuat</label>
                <label class="@left_label"></label><label class="@right_label" style="margin-bottom: 0px !important; font-size: 11px !important; font-weight: 100">@ViewBag.VehicleNo</label>
                <label class="@left_label"></label><label class="@right_label" style="margin-bottom: 0px !important; font-size: 11px !important; font-weight: 100"> @ViewBag.Jenis </label>
                <label class="@left_label"></label><label class="@right_label" style="margin-bottom: 0px !important; font-size: 11px !important; font-weight: 100"> @ViewBag.driverName </label>
                <label class="@left_label"></label><label class="@right_label" style="margin-bottom: 0px !important; font-size: 11px !important; font-weight: 100"> @string.Format("{0:n0}", item.Value)</label>
                <label class="@left_label"></label><label class="@right_label" id="@item.NamaPenyebrangan" style="margin-bottom: 0px !important; font-size: 11px !important; font-weight: 100">
                    <script>document.getElementById("@item.NamaPenyebrangan").innerHTML = update("@item.Value")</script>
                </label>
            </div>
            <div class="row" style="margin-top: @(idx > 2 ? 189 : 189)px">
                <label class="col-xs-6 col-md-6" style="margin-bottom: 0px !important; font-size: 11px !important; font-weight: 100">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @User.firstname</label>
                <label class="col-xs-6 col-md-6" style="margin-bottom: 0px !important; font-size: 11px !important; font-weight: 100">Rotua</label>
            </div>
        </div>
        idx++;
    }
    </div>
</page>
@section styles{
    <style>
        body {
            background: rgb(204,204,204);
        }

        page {
            background: white;
            display: block;
            box-shadow: 0 0 0.5cm rgba(0,0,0,0.5);
        }

            page[size="A4"] {
                width: 21cm;
                height: 29.7cm;
                margin: 0 !important;
            }

                page[size="A4"][layout="portrait"] {
                    width: 29.7cm;
                    height: 21cm;
                }

        body, page {
            margin: 0;
            box-shadow: 0;
        }
    </style>
}
<script>
    window.print()
</script>